@using Microsoft.AspNetCore.Identity
@using SteadyGrowth.Web.Models.Entities
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <div class="ltn__drop-menu user-menu">
        <ul>
            <li>
                <a href="#"><i class="icon-user"></i></a>
                <ul>
                    <li>
                        <a href="@Url.Page("/Dashboard/Index", new { area = "Membership" })" title="Dashboard">Dashboard</a>
                    </li>
                    <li><a href="@Url.Page("/Profile/Index", new { area = "Membership" })">My Account</a></li>
                    <li>
                        <a id="logoutLink" href="#">Logout</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <form id="logoutForm" class="form-inline d-none" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Page("/Index", new { area = "" })">
    </form>

    <script type="text/javascript">
        document.getElementById('logoutLink').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('logoutForm').submit();
        });
    </script>


}
else
{
    <div class="ltn__drop-menu user-menu">
        <ul>
            <li>
                <a href="#"><i class="icon-user"></i></a>
                <ul>
                    <li><a asp-page="/Login" asp-area="Identity">Sign in</a></li>
                    <li><a asp-page="/Register" asp-area="Identity">Register</a></li>
                </ul>
            </li>
        </ul>
    </div>
}
